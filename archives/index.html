<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>浮生若梦</title>
    <link rel="stylesheet" href="/css/style.css">
    <style>
        .content-collapse {
            overflow: hidden;
            display: -webkit-box;
            -webkit-line-clamp: 4;
            -webkit-box-orient: vertical;
        }

        .hide {
            display: none;
        }
    </style>
<meta name="generator" content="Hexo 7.3.0"></head>
<body class="bg-gray-50">
<!-- 主容器 -->
<div class="max-w-xl mx-auto">
    <!-- 顶部图片区域 -->
    <div class="w-full h-80 bg-cover bg-center" style="background-image: url('/images/background.png');">
    </div>

    <!-- 文章列表区域 -->
    <div class="">

        

        
            <article class="bg-white px-6 py-3 rounded-lg shadow-sm flex" id="article-0">
                <!-- 左侧头像 -->
                <div class="flex-none">
                    <img src="/images/avatar.png" alt="Author's Avatar" class="h-10 w-10 rounded-lg">
                </div>
                <!-- 右侧文章标题和内容 -->
                <div class="flex-1 ml-4 border-solid border-b-[rgb(243 244 246 / var(--un-border-opacity))] border-b-[1px] pb-2">
                    <h2 class="text-sm font-semibold mb-1">
                        <a href="/live/die.html" class=" " style="color: #576b95">
                            浮生若梦
                        </a>
                    </h2>
                    <div class="text-gray-600 content-collapse mb-1 text-[15px]" id="content-0">
                        <p>生命的意义是什么？<br>活着？<br>不！<br>是来过。</p>



                          


                    </div>
                    <button onclick="toggleContent(0)"
                            style="color: #576b95"
                            class="cursor-pointer hide text-sm"
                            id="toggle-0">
                        全 文
                    </button>

                    <!-- 地址信息 -->
                    <div class="text-[14px] text-gray-500" style="color: #576b95 ">
                        北京·皮条胡同
                    </div>

                    <!-- 底部信息栏 -->
                    <div class="flex justify-between items-center">
                        <!-- 日期 -->
                        <div class="text-xs text-gray-500">
                            2024-10-30 15:22
                        </div>

                        <!-- 操作按钮区域 -->
                        <div class="relative">
                            <!-- 更多按钮 -->
                            <button onclick="toggleActions(0)"
                                    class="px-2 bg-gray-100 rounded-md text-gray-600 font-bold text-sm">
                                · ·
                            </button>

                            <!-- 弹出的操作菜单 -->
                            <div id="actions-0"
                                 class="hide absolute right-0 mt-1 bg-black bg-opacity-60 rounded-md py-1 transform -translate-x-1/2 -translate-y-1/2 whitespace-nowrap"
                                 style="top: 50%;">
                                <div class="flex items-center text-white divide-x divide-white/[0.2]">
                                    <button onclick="handleAction('save', 0)"
                                            class="px-3 py-1 text-sm hover:bg-white/[0.1]">
                                        icon-zan   赞
                                    </button>
                                    <button onclick="handleAction('comment', 0)"
                                            class="px-3 py-1 text-sm hover:bg-white/[0.1]">
                                        评论
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </article>
        
            <article class="bg-white px-6 py-3 rounded-lg shadow-sm flex" id="article-1">
                <!-- 左侧头像 -->
                <div class="flex-none">
                    <img src="/images/avatar.png" alt="Author's Avatar" class="h-10 w-10 rounded-lg">
                </div>
                <!-- 右侧文章标题和内容 -->
                <div class="flex-1 ml-4 border-solid border-b-[rgb(243 244 246 / var(--un-border-opacity))] border-b-[1px] pb-2">
                    <h2 class="text-sm font-semibold mb-1">
                        <a href="/suiyu/202411061.html" class=" " style="color: #576b95">
                            浮生若梦
                        </a>
                    </h2>
                    <div class="text-gray-600 content-collapse mb-1 text-[15px]" id="content-1">
                        <p>你不应该对短暂出现的人执念太深。</p>



                          


                    </div>
                    <button onclick="toggleContent(1)"
                            style="color: #576b95"
                            class="cursor-pointer hide text-sm"
                            id="toggle-1">
                        全 文
                    </button>

                    <!-- 地址信息 -->
                    <div class="text-[14px] text-gray-500" style="color: #576b95 ">
                        京城教坊司·影梅小阁
                    </div>

                    <!-- 底部信息栏 -->
                    <div class="flex justify-between items-center">
                        <!-- 日期 -->
                        <div class="text-xs text-gray-500">
                            2024-11-06 14:01
                        </div>

                        <!-- 操作按钮区域 -->
                        <div class="relative">
                            <!-- 更多按钮 -->
                            <button onclick="toggleActions(1)"
                                    class="px-2 bg-gray-100 rounded-md text-gray-600 font-bold text-sm">
                                · ·
                            </button>

                            <!-- 弹出的操作菜单 -->
                            <div id="actions-1"
                                 class="hide absolute right-0 mt-1 bg-black bg-opacity-60 rounded-md py-1 transform -translate-x-1/2 -translate-y-1/2 whitespace-nowrap"
                                 style="top: 50%;">
                                <div class="flex items-center text-white divide-x divide-white/[0.2]">
                                    <button onclick="handleAction('save', 1)"
                                            class="px-3 py-1 text-sm hover:bg-white/[0.1]">
                                        icon-zan   赞
                                    </button>
                                    <button onclick="handleAction('comment', 1)"
                                            class="px-3 py-1 text-sm hover:bg-white/[0.1]">
                                        评论
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </article>
        
            <article class="bg-white px-6 py-3 rounded-lg shadow-sm flex" id="article-2">
                <!-- 左侧头像 -->
                <div class="flex-none">
                    <img src="/images/avatar.png" alt="Author's Avatar" class="h-10 w-10 rounded-lg">
                </div>
                <!-- 右侧文章标题和内容 -->
                <div class="flex-1 ml-4 border-solid border-b-[rgb(243 244 246 / var(--un-border-opacity))] border-b-[1px] pb-2">
                    <h2 class="text-sm font-semibold mb-1">
                        <a href="/live/huozhe1.html" class=" " style="color: #576b95">
                            浮生若梦
                        </a>
                    </h2>
                    <div class="text-gray-600 content-collapse mb-1 text-[15px]" id="content-2">
                        <p>我站在儿时的小巷回头望，再也看不到那个快乐的少年郎。</p>



                          
                        <div class="text-right block pr-8 text-[14px] pt-[4px]  ">
                                摘自<span class="inline-block from-author">山河</span><span class="from-type">作词</span>的<a class="from-name">《望故乡》</a>
                           </div>
                        


                    </div>
                    <button onclick="toggleContent(2)"
                            style="color: #576b95"
                            class="cursor-pointer hide text-sm"
                            id="toggle-2">
                        全 文
                    </button>

                    <!-- 地址信息 -->
                    <div class="text-[14px] text-gray-500" style="color: #576b95 ">
                        
                    </div>

                    <!-- 底部信息栏 -->
                    <div class="flex justify-between items-center">
                        <!-- 日期 -->
                        <div class="text-xs text-gray-500">
                            2024-10-31 14:31
                        </div>

                        <!-- 操作按钮区域 -->
                        <div class="relative">
                            <!-- 更多按钮 -->
                            <button onclick="toggleActions(2)"
                                    class="px-2 bg-gray-100 rounded-md text-gray-600 font-bold text-sm">
                                · ·
                            </button>

                            <!-- 弹出的操作菜单 -->
                            <div id="actions-2"
                                 class="hide absolute right-0 mt-1 bg-black bg-opacity-60 rounded-md py-1 transform -translate-x-1/2 -translate-y-1/2 whitespace-nowrap"
                                 style="top: 50%;">
                                <div class="flex items-center text-white divide-x divide-white/[0.2]">
                                    <button onclick="handleAction('save', 2)"
                                            class="px-3 py-1 text-sm hover:bg-white/[0.1]">
                                        icon-zan   赞
                                    </button>
                                    <button onclick="handleAction('comment', 2)"
                                            class="px-3 py-1 text-sm hover:bg-white/[0.1]">
                                        评论
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </article>
        
            <article class="bg-white px-6 py-3 rounded-lg shadow-sm flex" id="article-3">
                <!-- 左侧头像 -->
                <div class="flex-none">
                    <img src="/images/avatar.png" alt="Author's Avatar" class="h-10 w-10 rounded-lg">
                </div>
                <!-- 右侧文章标题和内容 -->
                <div class="flex-1 ml-4 border-solid border-b-[rgb(243 244 246 / var(--un-border-opacity))] border-b-[1px] pb-2">
                    <h2 class="text-sm font-semibold mb-1">
                        <a href="/live/hz1.html" class=" " style="color: #576b95">
                            浮生若梦
                        </a>
                    </h2>
                    <div class="text-gray-600 content-collapse mb-1 text-[15px]" id="content-3">
                        <p>最初我们来到这个世界，是因为不得不来；<br>最终我们离开这个世界，是因为不得不走。</p>



                          
                        <div class="text-right block pr-8 text-[14px] pt-[4px]  ">
                                摘自<span class="inline-block from-author">余华</span><span class="from-type">出版</span>的<a class="from-name">《活着》</a>
                           </div>
                        


                    </div>
                    <button onclick="toggleContent(3)"
                            style="color: #576b95"
                            class="cursor-pointer hide text-sm"
                            id="toggle-3">
                        全 文
                    </button>

                    <!-- 地址信息 -->
                    <div class="text-[14px] text-gray-500" style="color: #576b95 ">
                        
                    </div>

                    <!-- 底部信息栏 -->
                    <div class="flex justify-between items-center">
                        <!-- 日期 -->
                        <div class="text-xs text-gray-500">
                            2024-10-31 14:28
                        </div>

                        <!-- 操作按钮区域 -->
                        <div class="relative">
                            <!-- 更多按钮 -->
                            <button onclick="toggleActions(3)"
                                    class="px-2 bg-gray-100 rounded-md text-gray-600 font-bold text-sm">
                                · ·
                            </button>

                            <!-- 弹出的操作菜单 -->
                            <div id="actions-3"
                                 class="hide absolute right-0 mt-1 bg-black bg-opacity-60 rounded-md py-1 transform -translate-x-1/2 -translate-y-1/2 whitespace-nowrap"
                                 style="top: 50%;">
                                <div class="flex items-center text-white divide-x divide-white/[0.2]">
                                    <button onclick="handleAction('save', 3)"
                                            class="px-3 py-1 text-sm hover:bg-white/[0.1]">
                                        icon-zan   赞
                                    </button>
                                    <button onclick="handleAction('comment', 3)"
                                            class="px-3 py-1 text-sm hover:bg-white/[0.1]">
                                        评论
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </article>
        
    </div>
</div>
<script>
    // 页面加载完成后执行
    document.addEventListener('DOMContentLoaded', function() {
        // 遍历所有文章内容
        document.querySelectorAll('[id^="content-"]').forEach((content, index) => {
            const toggle = document.getElementById(`toggle-${index}`);

            // 克隆内容元素来测量完整高度
            const clone = content.cloneNode(true);
            clone.style.cssText = 'position: absolute; visibility: hidden; height: auto; width: ' + content.clientWidth + 'px;';
            clone.classList.remove('content-collapse');
            document.body.appendChild(clone);

            // 获取完整内容的高度
            const fullHeight = clone.offsetHeight;

            // 获取当前显示区域（4行）的高度
            const currentHeight = content.offsetHeight;

            // 如果完整高度大于显示区域高度，显示"全文"按钮
            if (fullHeight > currentHeight) {
                toggle.classList.remove('hide');
            }

            // 移除克隆元素
            document.body.removeChild(clone);
        });
    });

    function toggleContent(index) {
        const content = document.getElementById('content-' + index);
        const toggle = document.getElementById('toggle-' + index);

        if (content.classList.contains('content-collapse')) {
            content.classList.remove('content-collapse');
            toggle.textContent = '收起';
        } else {
            content.classList.add('content-collapse');
            toggle.textContent = '全文';
        }
    }

    // 切换操作菜单的显示/隐藏
    function toggleActions(index) {
        const actionsMenu = document.getElementById(`actions-${index}`);
        const allMenus = document.querySelectorAll('[id^="actions-"]');

        // 先隐藏所有其他的菜单
        allMenus.forEach(menu => {
            if (menu.id !== `actions-${index}`) {
                menu.classList.add('hide');
            }
        });

        // 切换当前菜单的显示状态
        actionsMenu.classList.toggle('hide');
    }

    // 处理操作按钮的点击事件
    function handleAction(action, index) {
        if (action === 'save') {
            console.log('点击了暂存按钮');
            // 在这里添加暂存功能的处理逻辑
        } else if (action === 'comment') {
            console.log('点击了评论按钮');
            // 在这里添加评论功能的处理逻辑
        }

        // 处理完后隐藏菜单
        document.getElementById(`actions-${index}`).classList.add('hide');
    }

    // 点击页面其他地方时隐藏所有操作菜单
    document.addEventListener('click', function(event) {
        const isActionButton = event.target.closest('button');
        if (!isActionButton || !isActionButton.getAttribute('onclick')?.includes('toggleActions')) {
            document.querySelectorAll('[id^="actions-"]').forEach(menu => {
                menu.classList.add('hide');
            });
        }
    });
</script>
</body>
</html>
